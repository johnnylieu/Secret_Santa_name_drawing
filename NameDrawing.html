<html>
    <body>
        <form onsubmit="addName(); return false">
            <input type="text" id="nameInput">
            <input type="submit" value="Add Name">
        </form>

        <button onclick="calculate()">Draw Names!</button>

        <div id="nameListDisplay"></div>

        <div id="assignmentDisplay"></div>

        <script type="text/JavaScript">
            let nameInput = document.getElementById("nameInput");
            let nameListDisplay = document.getElementById("nameListDisplay");
            let assignmentDisplay = document.getElementById("assignmentDisplay");

            let namesList = [];

            displayNames();

            function calculate () {
                let assigned = [];
                for (let i = 0; i < namesList.length; i++) {
                    let randomIndex = -1;
                    while (randomIndex == -1 || randomIndex == i || assigned.indexOf(namesList[randomIndex]) != -1) {
                        randomIndex = Math.floor(Math.random() * namesList.length);
                    };
                    assigned.push(namesList[randomIndex]);
                };
                console.log(namesList);
                console.log(assigned);
            };

            function displayNames() {
                let html = '<ul>';
                for (let name of namesList) {
                    html += '<li>' + name + '</li>';
                }
                html += '</ul>';
                nameListDisplay.innerHTML = html;
            };

            function addName () {
                console.log("button clicked");
                namesList.push(nameInput.value);
                nameInput.value = '';
                console.log(namesList);
                displayNames();
                console.log(displayNames());
            };
        </script>
    </body>
</html>